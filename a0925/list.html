<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/board.css">
  
  <title>포레스트 리솜</title>
  <script>
    // 제이쿼리 선언

    $(function(){
      $(".num").click(function(){
        alert("번호클릭");
      });

      // 삭제 버튼 - 동적 이벤트 (문서를 다시 읽어서 이벤트 실행, 다른 이벤트 추가해도 제대로 작동함)
      $(document).on("click",".delBtn",function(){
        console.log($(this).closest("tr").attr("id")); // this -> 현재 자기 자신
        var delAll = $(this).closest("tr").attr("id"); 
        $("#"+delAll).remove();
      });

      // 삭제 버튼 - 정적 이벤트 (기존의 읽었던 문서에서 이벤트 실행, 다른 이벤트를 새로 추가하면 제대로 작동 안함)
      // $(".delBtn").click(function(){
      //   alert("삭제됩니다.");
      //   console.log($(this).closest("tr").attr("id")); // this -> 현재 자기 자신
      //   var delAll = $(this).closest("tr").attr("id"); 
      //   $("#"+delAll).remove();
      // });


      $(".menu").mouseover(function(){
        // alert("마우스 오버");
        $(".navibg").stop();
        $(".navibg").slideDown(300,"linear",);
      });

      $(".menu").mouseout(function(){
        $(".navibg").stop();
        $(".navibg").slideUp(100,"linear",);
      });

    });


  </script>
</head>

<body>
  <header>
    <nav>
      <div class="logo">
        <a href="/"><img src="images/img_logo_re_forest.png"></a>
      </div>
      <div class="nav_wrap">
        <div class="quick_menu">
          <ul>
            <li><a href="#">회원예약</a></li>
            <li><a href="#">패키지 예약</a></li>
            <li><a href="#">부대시설 예약</a></li>
            <li><a href="#">회원가입</a></li>
            <li><a href="#">로그인</a></li>
          </ul>
        </div>
        <div class="menu"> <!-- onmouseover="m_over()" onmouseleave="m_leave()" -->
          <ul>
            <li><a href="#">포레스트</a></li>
            <li><a href="#">스파&찜질방</a></li>
            <li><a href="#">객실</a></li>
            <li><a href="#">특별한 경험</a></li>
            <li><a href="#">세미나 & 연회</a></li>
            <li><a href="#">브랜드소개</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

<!-- * 하부 메뉴부분 들어감-->

  <div class="navibg">
    
  </div>



<!-- * 서브 페이지 배너 들어감-->
  <div class="sub_banner">

  </div>

<!-- section : 게시판 -->

<section>
  <div class="sub_naviloc">HOME <i class="fa-solid fa-angle-right"></i> 포레스트 <i class="fa-solid fa-angle-right"></i> NOTICE</div>
  <h1>NOTICE</h1>
  <div class="wrapper">
    <form action="#" name="sFrm" method="get">
      <select name="category">
        <option value="all">전체</option>
        <option value="btitle">제목</option>
        <option value="bcontent">내용</option>
        <option value="name">작성자</option>
      </select>
      <input type="text" name="search_txt" id="search_txt">
      <button type="button"><i class="fa-solid fa-magnifying-glass"></i></button>
    </form>

    <script>
      var count=1;
      function wirteBtn(){
        alert("저장 클릭");
        // console.log(today);
        // console.log(today.getFullYear());
        // console.log(today.getMonth());
        // console.log('0'+(today.getMonth()+1)); // 10월부터는 앞에 '0'이 붙으면 안되니까 if문 넣어주기
        // console.log(today.getDate());
        // console.log(today.getDay());
        // console.log(today.getFullYear()+"-"+('0'+(today.getMonth()+1))+"-"+today.getDate());


        
        // 날짜, 조회수 -1;
        var today = new Date();
        var tday = today.getFullYear()+"-"+('0'+(today.getMonth()+1))+"-"+today.getDate();
        var hit = 1;
        console.log(document.getElementById("title").value);
        console.log(document.getElementById("name").value);
        console.log(tday);
        console.log(hit);
        console.log(hdata);

        var hdata = "";
        hdata += `<tr id=${count}>`;
        hdata += `<td>${count}</td>`;
        hdata += "<td><a href='#'>"+document.getElementById("title").value+"</a></td>";
        hdata += "<td>"+document.getElementById("name").value+"</td>";
        hdata += "<td>"+tday+"</td>";
        hdata += "<td><button class='delBtn'>삭제</button></td>";
        hdata += "</tr>";

        $("#tbody").prepend(hdata); // html 태그의 위에 추가
        // $("#tbody").append(hdata); // html 태그의 아래에 추가
        // $("#tbody").html(hdata); // 안에 있는 html 태그를 모두 지운 후, 추가


        // document.getElementById("tbody").innerHTML = "";
        // document.getElementById("tbody").innerHTML = data;


        //입력폼의 글자 삭제
        document.getElementById("title").value = "";
        document.getElementById("name").value = "";

        count++;
        console.log("count : " +count);

      }
    </script>

    <div class="frmInput">
      <label>제목</label>
      <input type="text" name="title" id="title"><br>
      <label>작성자</label>
      <input type="text" name="name" id="name">
      <button type="button" onclick="wirteBtn()">저장</button>
    </div>

  </div>
  <table>
    <colgroup>
      <col width="10%">
      <col width="*">
      <col width="15%">
      <col width="15%">
      <col width="12%">
    </colgroup>
    <thead>
      <tr>
        <th class='c01'>No.</th>
        <th class='c02'>제목</th>
        <th class='c03'>작성자</th>
        <th class='c04'>작성일</th>
        <th class='c05'>조회수</th>
      </tr>
    </thead>
    <tbody id="tbody">
    </tbody>
  <script>
    var hdata = "";
    for(var i=1;i<=10;i++){
      // data += "<tr id='"+i+"'>";
      hdata += `<tr id='${i}'>`;
      hdata += "<td class='num'>"+i+"</td>";
      hdata += "<td><a href='#'>예방관련 안내</a></td>";
      hdata += "<td>관리자</td>";
      hdata += "<td>2024-09-10</td>";
      hdata += "<td><button class='delBtn'>삭제</button></td>";
      hdata += "</tr>";

      count++;

    }
    document.getElementById("tbody").innerHTML = hdata;
  </script>
  </table>
  <ul class="page-num">
    <li class="first"></li>
    <li class="prev"></li>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li class="next"></li>
    <li class="last"></li>
  </ul>
  <div class="write"><a href="#">쓰기</a></div>
  
</section>


<!-- 0911 채팅 상담 -->


<div id="right_fixed">
  <div class="chatting">
    <div></div>
    <div>채팅상담</div>
  </div>
  <div class="ai_chatting">
    <div></div>
    <div>AI 채팅상담</div>
  </div>
  <div class="items" >최근 본 상품(0) <span></span></div>
  <div class="top">▲ TOP</div>
</div>



</body>
</html>